Notes for Eclipse with TRUST (19/10/2016)
-----------------------------------------

######################################
# Create a project to browse sources #
######################################

Download
========
> Go to the website of the Eclipse Foundation: http://www.eclipse.org/downloads/
> Select "Download Packages" in "Get Eclipse Neon".
> Click on "Eclipse Mars (4.5)" on the left menu "More downloads".
> Then click on "Download" button.
> Select "Eclipse IDE for C/C++ Developers" -> "Linux 64-bits"
> Download the eclipse-*-linux*64.tar.gz package in your directory

Installation
============
> cd /export/home/login/...
> tar xvfz eclipse-*.tar.gz
> cd <eclipse_install>

Configuration
=============
> Change the eclipse.ini file, by adding or modifying the END of the file with:
--launcher.defaultAction
openFile
--launcher.XXMaxPermSize
256m
-vmargs
-Dhelp.lucene.tokenizer=standard
-XX:PermSize=256m
-XX:MaxPermSize=1024m
-XX:+UseParallelGC
-Xmn256m
-Xss2m
-Xms512m
-Xmx2048m
-server

Launching
=========
> echo $TRUST_ROOT 
> ./eclipse &
> Workspace: /export/home/login/eclipse/workspace 
  => OK
  => Welcome -> close: x button
> File/New/C++ Project 
  => Profect name: TRUST_X.Y.Z
  => Use default location 
  => Project type: Executable --> Empty Project
  => Toolchains: Linux GCC
  => Finish
> Project Explorer
  Right click TRUST_X-Y-Z --> Import...
  => General --> File System
  => "Next"
  => From directory: $TRUST_ROOT/src
  => Select All  
  => "Into folder": TRUST_X.Y.Z
  => Advanced: check "Create links in workspace "
  => Finish 
  => Wait...
> Project Explorer
  Right click TRUST_X.Y.Z --> Properties
  => Builders: uncheck "CDT Builder" => click on "OK"
  => OK
  => Wait to have 100% at the bottom right corner of the window.
> File/Exit


######################################
# Launch a calculation in debug mode #
######################################

Configuration
============= 
> cd <eclipse_install>
> source $TRUST_ROOT/env_TRUST.sh
> ./eclipse &
> Project Explorer
  Right click TRUST_X.Y.Z --> Debug As --> Debug configurations...
  => Select C/C++ Application
  => On the top of the window, press the 'New' button (to create a configuration of the selected type)
  => Main --> C/C++ Application: $TRUST_ROOT/exec/TRUST_mpi
  => Arguments --> uncheck "Use default" in "Working directory" area
  => Debugger--> "Main" options "GDB debugger" --> replace "gdb" by "/usr/bin/gdb"
  => Apply
  => Close

View debug
==========
> Window --> Perspective --> Open Perspective --> Debug
  => New button at the top right of the window: view "Debug" at the side of view "C/C++"

Case selection
==============
> Run --> Debug configurations
  => Select "C/C++ application" -> "TRUST_X.Y.Z Debug"
  => Arguments: Program arguments: datafile               (for example datafile=Cx)
  =>            Working directoty: /export/home/login/... (for example /export/home/login/Cx : folder of Cx test case in your home-directories)
  => Apply
  => Run

Launching
=========
> Run/Debug (F11)         (Wait to have 100% on the bottom right corner of the window)
> Run/Resume (F8)
> Run/Terminate (Ctrl+F2)
> File/Exit


###################################
# Launch a calculation in Baltik  #
###################################

Configuration
============= 
> cd <eclipse_install>
> source $Baltik_ROOT/env_Baltik.sh or source $Baltik_ROOT/full_Baltik.sh 
> ./eclipse &
> File/New/C++ Project 
  => Profect name: Baltik
  => Use default location 
  => Project type: Executable --> Empty Project
  => Toolchains: Linux GCC
  => Finish
> Project Explorer
  Right click Baltik --> Import...
  => General --> File System
  => Next 
  => From directory: $Baltik_ROOT/src
  => Select All  
  => Into folder: Baltik
  => Advanced: check Create links in workspace 
  => Finish 
> Project Explorer
  Right click Baltik --> Properties
  => Builders: not check CDT Builder => OK
  => OK
  => Wait to have 100% at the bottom right corner of the window.
> Project Explorer
  Right click Baltik --> Debug As --> Debug configurarions...
  => Select C/C++ Application
  => Press the 'New' button to create a configuration of the selected type
  => Main --> C/C++ Application: $Baltik_ROOT/Baltik
  => Arguments --> not check Use default working directory
  => Debugger--> Main options GDB debugger --> replace gdb by /usr/bin/gdb
  => Apply
  => Close

Case selection
==============
> Run --> Debug configurations
  => Select C/C++ application Baltik Debug
  => Arguments: Program arguments: datafile               (for example datafile=Cx)
  =>            Working directoty: /export/home/login/... (for example /export/home/login/Cx : folder of Cx test case in your home-directories)
  => Apply
  => Debug

Launching
=========
> Run/Debug (F11)         (Wait to have 100% on the bottom right corner of the window)
> File/Exit

