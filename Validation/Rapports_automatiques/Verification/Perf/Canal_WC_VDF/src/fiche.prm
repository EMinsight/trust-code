Parameters
{
  Title "Test performance : case problem WC in VDF"
  Description "We run a WC problem in a channel of 21x100x21  cells (44100 cells). Two test cases are considered : case 1 with an iterative pressure solver (GCP), while case 2 with a direct solver (Cholesky).  We test the scaling by running 10 iterations on 1,2,4,8,16, 32 and 64 procs. Similar cases (case 3 and case 4) are carried out with a channel of 42x25x42 cells (44100 cells)."
  VersionTrio_U "1.8.4"
  Author "Elie Saikali"
  TestCase SEQ_C1 Cas.data
  TestCase PAR_2_C1 PAR_Cas.data 2
  TestCase PAR_4_C1 PAR_Cas.data 4
  TestCase PAR_8_C1 PAR_Cas.data 8
  TestCase PAR_16_C1 PAR_Cas.data 16
  TestCase PAR_32_C1 PAR_Cas.data 32
#  TestCase PAR_64_C1 PAR_Cas.data 64
  TestCase SEQ_C2 Cas2.data
  TestCase PAR_2_C2 PAR_Cas2.data 2
  TestCase PAR_4_C2 PAR_Cas2.data 4
  TestCase PAR_8_C2 PAR_Cas2.data 8
  TestCase PAR_16_C2 PAR_Cas2.data 16
  TestCase PAR_32_C2 PAR_Cas2.data 32
# TestCase PAR_64_C2 PAR_Cas2.data 64
  TestCase SEQ_C3 Cas.data
  TestCase PAR_2_C3 PAR_Cas.data 2
  TestCase PAR_4_C3 PAR_Cas.data 4
  TestCase PAR_8_C3 PAR_Cas.data 8
  TestCase PAR_16_C3 PAR_Cas.data 16
  TestCase PAR_32_C3 PAR_Cas.data 32
#  TestCase PAR_64_C3 PAR_Cas.data 64
  TestCase SEQ_C4 Cas2.data
  TestCase PAR_2_C4 PAR_Cas2.data 2
  TestCase PAR_4_C4 PAR_Cas2.data 4
  TestCase PAR_8_C4 PAR_Cas2.data 8
  TestCase PAR_16_C4 PAR_Cas2.data 16
  TestCase PAR_32_C4 PAR_Cas2.data 32
#  TestCase PAR_64_C4 PAR_Cas2.data 64
}
Chapter
{
	Figure 
	{
		Dimension 2
		Title "Case 1 : pressure with PetSC GCP"
        	LabelX "PROC NUMBER"
        	LabelY "Time [s]"
		grid
		Width 11cm
        	Include_Description_Curves 0
		Curve {
		legend "perf" 
                file PAR_32_C1/Cas_all.perf.txt
                columns ($1) ($2)
                Linewidth 2
                Style linespoints
		}
	}
	
	Figure 
	{
		Dimension 2
		Title "Case 2 : pressure with PetSC Cholesky"
        	LabelX "PROC NUMBER"
        	LabelY "Time [s]"
		grid
		Width 11cm
        	Include_Description_Curves 0
		Curve {
		legend "perf" 
                file PAR_32_C2/Cas_all2.perf.txt
                columns ($1) ($2)
                Linewidth 2
                Style linespoints
		}
	}
	Figure 
	{
		Dimension 2
		Title "Case 3 : pressure with PetSC GCP"
        	LabelX "PROC NUMBER"
        	LabelY "Time [s]"
		grid
		Width 11cm
        	Include_Description_Curves 0
		Curve {
		legend "perf" 
                file PAR_32_C3/Cas_all.perf.txt
                columns ($1) ($2)
                Linewidth 2
                Style linespoints
		}
	}
	
	Figure 
	{
		Dimension 2
		Title "Case 4 : pressure with PetSC Cholesky"
        	LabelX "PROC NUMBER"
        	LabelY "Time [s]"
		grid
		Width 11cm
        	Include_Description_Curves 0
		Curve {
		legend "perf" 
                file PAR_32_C4/Cas_all2.perf.txt
                columns ($1) ($2)
                Linewidth 2
                Style linespoints
		}
	}	
	
}

Chapter
{
Title "Conclusions"
Description "Case 1 : good scaling up to 8 procs (5625 cell / proc, acceleration of about 75 %). Above that MPI communications become significant! Case 2 : good scaling up to 16 procs (2812 cell / proc, acceleration of about 57 %). 16 procs for case 3 and case 4.  "
}

Chapter
{
  Title "Computer performance"
  tableau_performance {
  }
}
