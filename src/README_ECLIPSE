Notes for Eclipse with TRUST (01/08/2017)
-----------------------------------------

Download
========
> Go to the website of the Eclipse Foundation: http://www.eclipse.org/downloads/eclipse-packages/
> Click on "Eclipse Mars (4.5)" on the menu "More downloads".
> Then click on "Download" button.
> Select "Eclipse IDE for C/C++ Developers" -> "Linux 64-bits"
> Download the eclipse-cpp-mars-2-linux-gtk-x86_64.tar.gz package in your directory "/export/home/user/"
--> For Ubuntu16.04 and Fedora22, download Eclipse NEON version: eclipse-cpp-neon-3-linux-gtk-x86_64.tar.gz to avoid graphical issues

Installation
============
> cd /export/home/user/
> tar xvfz eclipse-*.tar.gz

Configuration
=============
> cd eclipse
> For Ubuntu16.04 and Fedora22, change the eclipse.ini file, by deleting the last 2 lines (Xms and Xmx) and adding the following lines:
-Xms512m
-Xmx2048m
> For other OS, change the eclipse.ini file, by deleting the last 3 lines (MaxPermSize, Xms and Xmx) and adding the following lines:
-XX:+UseParallelGC
-Xmn256m
-Xss2m
-server
-Xms512m
-Xmx2048m
> cd /export/home/user/

###################################
# Create a platform TRUST project #
###################################

Launching
=========
> source /home/triou/env_TRUST_1.7.4.sh
> echo $TRUST_ROOT/src
> echo $TRUST_ROOT/exec/TRUST_mpi

> /export/home/user/eclipse/eclipse &
> Workspace: Browse a directory /export/home/user/workspace
  => OK
  => Welcome -> close: x button

> File/New/C++ Project
  => Profect name: TRUST-X.Y.Z
  => Project type: "Executable" -> "Empty Project".
  => Toolchains: "Linux GCC".
  => Finish
> Project Explorer
  Right click TRUST-X-Y-Z/Import...
  => General/File System
  => Next 
  => From directory: copy the string matching $TRUST_ROOT/src/
  => Select All  
  => Into folder: TRUST-X.Y.Z
  => Finish 
  => Wait to have 100% at the bottom right corner of the window  (C/C++ indexer).
> Project Explorer
  Right click TRUST-X.Y.Z --> Properties
  => Builders: uncheck "CDT Builder" => OK
  => OK
> Project Explorer
  Right click TRUST-X.Y.Z --> Debug As/Debug Configurations...
  => C/C++ Application => New
  => Main: Project: TRUST-X.Y.Z 
  => Main: C/C++ Application:  copy the string matching $TRUST_ROOT/exec/TRUST_mpi
  => Main: Apply
  => Arguments: Program arguments: specify the name of your datafile
  => Arguments: Working directoty: uncheck Use default and select the directory with path containing the datafile
  => Arguments: Apply
  => Debug
> File/Exit


####################################################
# Create a basic BALTIK project without dependency #
####################################################

Launching
=========
> source env_baltik.sh
> echo $project_directory/src/

> /export/home/user/eclipse/eclipse &
> File/New/Makefile Project with Existing Code
  => Profect name: MY_BALTIK
  => Existing Code Location: copy the string matching $project_directory/src/
  => Toolchain for Indexer Settings: "Linux GCC".
  => Finish
  => Wait to have 100% at the bottom right corner of the window  (C/C++ indexer).
> Project Explorer
  Right click MY_BALTIK --> Properties
  => Builders: check "CDT Builder"
  => C/C++ Build :
      => Builder Settings: Build directory: ${workspace_loc:/MY_BALTIK}/../ or copy the string matching $project_directory/
      => Behavior: check Build (Incremental build): debug optim (instead of all)
  => Project References: check TRUST-X.Y.Z
  => OK
  Right click MY_BALTIK --> Index  --> Rebuild
  => Wait to have 100% at the bottom right corner of the window  (C/C++ indexer).
  Right click MY_BALTIK --> Build Project

> Project Explorer
  Right click MY_BALTIK --> Debug As/Debug Configurations...
  => C/C++ Application => New
  => Main: Project: MY_BALTIK
  => Main: C/C++ Application: ${workspace_loc:/MY_BALTIK}/../basic or copy the string matching $project_directory/basic
  => Main: Apply
  => Arguments: Program arguments: specify the name of your datafile
  => Arguments: Working directory: uncheck Use default and select the directory containing the datafile
  => Arguments: Apply
  => Debug
> File/Exit



###############################
# Shortcuts useful in sources #
###############################
> Project Explorer
  Double click TRUST-X.Y.Y+Kernel+Framework+Probleme_base.cpp
  In cpp file: Right click in method initialize()
  => F3 Open Declaration
  => F4 Open Type Hierarchy
  => Ctrl+Alt+H Open Call Hierarchy
  => Alt+-> and Alt+<-

