# Hydraulique 2D laminaire avec "trou" dans le maillage #
# PARALLEL OK 8 #
dimension 2
domaine dom 
# BEGIN MESH #
lire_med dom dom2 mesh.med
# END MESH #
# BEGIN PARTITION 

Partition dom 
  { 
    Partition_tool metis   { nb_parts 2   } 
    Larg_joint 2 
    zones_name DOM 
  } 
End 
END PARTITION #
# BEGIN SCATTER 
Scatter DOM.Zones dom 
END SCATTER #
vdf dis 
schema_euler_explicite sch 
Lire sch
  { 
    tinit 0.0
    nb_pas_dt_max 5
  }
champ_uniforme gravity
lire gravity 
2 0. 0.
fluide_incompressible eau 
Lire eau
  { 
    mu champ_uniforme  1 3.7e-05
    rho champ_uniforme  1 2.0
  }
associer eau gravity
pb_thermohydraulique_turbulent pb 
Associer pb dom
Associer pb sch
Associer pb eau
discretiser pb dis
Lire pb
  { 
    navier_stokes_turbulent 
      { 
        modele_turbulence k_epsilon 
          { 
            transport_k_epsilon 
              { 
        conditions_initiales    {  k_eps champ_uniforme  2 1. 10.0
          }
                convection    { amont 
                  }
                diffusion    {   }
              }
            turbulence_paroi loi_standard_hydr 
          }
        solveur_pression gcp 
          { 
            precond ssor 
              { 
                omega 1.5
              }
            seuil 1e-08
            impr 
          }
        convection    { amont 
          }
        diffusion    {   }
        conditions_initiales    {  vitesse champ_uniforme  2 0.0 0.0
          }
        conditions_limites 
          {
            Obstacle paroi_fixe 
            Symetrie symetrie 
            Sortie frontiere_ouverte_pression_imposee champ_front_uniforme  1 0.0
            Entree frontiere_ouverte_vitesse_imposee champ_front_uniforme  2 1.0 0.0
          }
      }
    convection_diffusion_temperature_turbulent 
      { 
        modele_turbulence prandtl 
          { 
            turbulence_paroi loi_standard_hydr_scalaire 
          }
        convection    { amont 
          }
        diffusion    {   }
        conditions_initiales    {  temperature champ_uniforme  1 10.0
          }
      }
    postraitement 
      { 
        format lata
        champs  dt_post 1.3 
          {
            pression elem
            vitesse elem
            temperature elem
            k_eps elem
          }
      }
  }
resoudre pb
fin 
