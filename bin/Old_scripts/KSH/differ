#!/bin/bash
#
# Ce programme realise une comparaison de deux fichiers lml TRUST :
# Plusieurs domaines possibles et plusieurs processeurs possibles.
# differ : shell ksh (ce programme)
# differ_awk : programme awk appele
#
LANG=C
export LANG
if [ ${#1} != 0 ] && [ ${#2} != 0 ]
then
   fic1=$1
   fic2=$2
else
   echo "Votre premier fichier lml (chemin complet) :"
   read fic1
   echo "Votre deuxieme fichier lml (chemin complet) :"
   read fic2
fi

if [ ! -f $fic1 ]
then
   echo "Votre fichier "$fic1" est inexistant."
   exit
elif [ ! -f $fic2 ]
then
   echo "Votre fichier "$fic2" est inexistant."
   exit
fi
     
echo $ECHO_OPTS "\nDifference des deux fichiers dans un fichier appele erreur.lml"
fichier="differ"$fic1"_"$fic2
rm -f $fichier
touch $fichier
$TRUST_Awk -v fic1=$fic1 -v nomfic="erreur.lml" -v fic2=$fic2 -f $TRUST_AWK/differ_awk $fic1 $fic2 > $fichier
