#!/bin/bash
TMP=$TRUST_TMP/recherche.out
cd $TRUST_ROOT
echo "Saisie de la chaine (espaces possibles):"
echo "----------------------------------------"
read NOM
for dir in `find ./* -type d -print`
do
if [ -f $dir/makefile ]
then
for file in $dir/*.h $dir/*.cpp
do
   echo $file
   xx=`grep "$NOM" $file`
   if [ "$xx" != "" ]
   then
      echo $file : $xx >> $TMP
   fi
done
fi
done
if [ -f $TMP ]
then
   nohup $TRUST_EDITOR $TMP 1>/dev/null &
else
   $Erreur.ihm "Aucun fichier trouve avec cette chaine !!!"
fi
echo "FIN"
