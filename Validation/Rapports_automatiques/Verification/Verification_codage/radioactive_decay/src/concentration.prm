Parameters
{
    Title "Vérification du terme source de décroissance radioactive"
    Description "Le domaine d'application visé est la modélisation de l'évolution des précurseurs de neutrons retardés dans un calcul couplé avec un code de neutronique. En particulier, les précurseurs sont transportés dans les réacteurs à sels fondus. La distribution spatiale de la concentration en précurseurs (séparés en groupes associés à une constante de décroissance radioactive différente) est résolue entièrement dans TRUST via une équation de converction diffusion de la concentration : \latex_(\begin{equation} \partial_t c + \nabla\cdot( u c) - \nabla\cdot\left(D_\text{eff}\nabla c\right) = {\color{red}-\lambda c} + \text{Prod} \end{equation}\latex_)"
    Description "Ce terme peut être implémenté via source_constituant et champ_fonc_fonction, mais ne pourra pas être implicité, s'exposant ainsi à de potentielles instabilités."
    Description "Le terme source radioactive_decay permet d'impliciter ce terme. Pour vérifier l'implémentation on néglige les termes de convection et de diffusion : \latex_(\begin{equation} \partial_t c = {\color{red}-\lambda c} + \text{Prod} \end{equation}\latex_)"
    Description "La solution de cette équation est : \latex_(\begin{equation} c = \frac{\text{Prod}}{\lambda} (e^{-\lambda t} - 1) \end{equation}\latex_)"
    Author "Y.G."
    TestCase VEFPreP1B/dt0.1 "decay.data"
    TestCase VEFPreP1B/dt1 "decay.data"
    TestCase VEFPreP1B/dt0.1 "source_constituant.data"
    TestCase VEFPreP1B/dt1 "source_constituant.data"
    TestCase PolyMAC/dt0.1 "decay.data"
    TestCase PolyMAC/dt1 "decay.data"
    TestCase PolyMAC/dt0.1 "source_constituant.data"
    TestCase PolyMAC/dt1 "source_constituant.data"
}

Chapter
{
    Title "Comparaisons a une solution de reference"
    Description ""
    Figure
    {
        incluredesccourbes 0
        Titre "Comparaison"
        Dimension 2
        LabelX "Temps [s]"
        LabelY Concentration1
        legend below title "Légende"
        width 12cm

        Curve
        {
            file VEFPreP1B/dt0.1/decay_C.son
            columns 1 (column(1+1))
            legend Concentration 1 VEFPreP1B - decay - dt = 0.1 s
            style linespoints
        }
        Curve
        {
            file VEFPreP1B/dt1/decay_C.son
            columns 1 (column(1+1))
            legend Concentration 1 VEFPreP1B - decay - dt = 1 s
            style linespoints
        }
        Curve
        {
            file VEFPreP1B/dt0.1/source_constituant_C.son
            columns 1 (column(1+1))
            legend Concentration 1 VEFPreP1B - source_constituant - dt = 0.1 s
            style linespoints
        }
        Curve
        {
            file VEFPreP1B/dt1/source_constituant_C.son
            columns 1 (column(1+1))
            legend Concentration 1 VEFPreP1B - source_constituant - dt = 1 s
            style linespoints
        }
        Curve
        {
            file PolyMAC/dt0.1/decay_C.son
            columns 1 (column(1+1))
            legend Concentration 1 PolyMAC - decay - dt = 0.1 s
            style linespoints
        }
        Curve
        {
            file PolyMAC/dt1/decay_C.son
            columns 1 (column(1+1))
            legend Concentration 1 PolyMAC - decay - dt = 1 s
            style linespoints
        }
        Curve
        {
            file PolyMAC/dt0.1/source_constituant_C.son
            columns 1 (column(1+1))
            legend Concentration 1 PolyMAC - source_constituant - dt = 0.1 s
            style linespoints
        }
        Curve
        {
            file PolyMAC/dt1/source_constituant_C.son
            columns 1 (column(1+1))
            legend Concentration 1 PolyMAC - source_constituant - dt = 1 s
            style linespoints
        }
        Courbe
        {
            Legende "Analytique 1"
            fonction  -0.5/0.01*(exp(-0.01*x)-1) 
        }
    }

    Figure
    {
        incluredesccourbes 0
        Titre "Comparaison"
        Dimension 2
        LabelX "Temps [s]"
        LabelY Concentration2
        legend below title "Légende"
        width 12cm

        Curve
        {
            file VEFPreP1B/dt0.1/decay_C.son
            columns 1 (column(1+2))
            legend Concentration 2 VEFPreP1B - decay - dt = 0.1 s
            style linespoints
        }
        Curve
        {
            file VEFPreP1B/dt1/decay_C.son
            columns 1 (column(1+2))
            legend Concentration 2 VEFPreP1B - decay - dt = 1 s
            style linespoints
        }
        Curve
        {
            file VEFPreP1B/dt0.1/source_constituant_C.son
            columns 1 (column(1+2))
            legend Concentration 2 VEFPreP1B - source_constituant - dt = 0.1 s
            style linespoints
        }
        Curve
        {
            file VEFPreP1B/dt1/source_constituant_C.son
            columns 1 (column(1+2))
            legend Concentration 2 VEFPreP1B - source_constituant - dt = 1 s
            style linespoints
        }
        Curve
        {
            file PolyMAC/dt0.1/decay_C.son
            columns 1 (column(1+2))
            legend Concentration 2 PolyMAC - decay - dt = 0.1 s
            style linespoints
        }
        Curve
        {
            file PolyMAC/dt1/decay_C.son
            columns 1 (column(1+2))
            legend Concentration 2 PolyMAC - decay - dt = 1 s
            style linespoints
        }
        Curve
        {
            file PolyMAC/dt0.1/source_constituant_C.son
            columns 1 (column(1+2))
            legend Concentration 2 PolyMAC - source_constituant - dt = 0.1 s
            style linespoints
        }
        Curve
        {
            file PolyMAC/dt1/source_constituant_C.son
            columns 1 (column(1+2))
            legend Concentration 2 PolyMAC - source_constituant - dt = 1 s
            style linespoints
        }
        Courbe
        {
            Legende "Analytique 2"
            fonction  -0.8/2.0*(exp(-2.0*x)-1) 
        }
    }

}
