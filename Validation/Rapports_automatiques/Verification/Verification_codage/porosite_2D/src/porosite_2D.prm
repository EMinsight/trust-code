Parameters
{
    Title "Ecoulement avec saut de porosite en 2D"
    Description "Ecoulement unidirectionel, sans diffusion. Le domaine est discretise en 2D. Le calcul est mene sur differents maillages (cartesien conforme, triangles et non conforme)."
    Author "Y. Gorsse"
    code TRUST
    Prerequisite "./extract_convergence"


    TestCase NCa/CoviMAC/maillage_20x30 jdd.data
    TestCase NCa/PolyMAC/maillage_20x30 jdd.data
    TestCase NCr/CoviMAC/maillage_20x30 jdd.data
    TestCase NCr/PolyMAC/maillage_20x30 jdd.data
    TestCase cartesian/CoviMAC/maillage_20x30 jdd.data
    TestCase cartesian/PolyMAC/maillage_20x30 jdd.data
    TestCase cartesian/VDF/maillage_20x30 jdd.data
    TestCase triangle/CoviMAC/maillage_20x30 jdd.data
    TestCase triangle/PolyMAC/maillage_20x30 jdd.data
    TestCase triangle/VEFPreP1B/maillage_20x30 jdd.data
}

Chapter
{
    Title "Results"
    Description " "

    Figure
    {
        title_figure residus
        include_description_curves 0
        labelX "t (s)"
        labelY "residuals"
        logY

        width 18cm
        grid
        legend outside title "Legende"
        Curve
        {
            legend "NCa/CoviMAC maillage_20x30"
            file ./NCa/CoviMAC/maillage_20x30/jdd.dt_ev
            columns 1 4
            style lines
            Linewidth 2
        }
        Curve
        {
            legend "NCa/PolyMAC maillage_20x30"
            file ./NCa/PolyMAC/maillage_20x30/jdd.dt_ev
            columns 1 4
            style lines
            Linewidth 2
        }
        Curve
        {
            legend "NCr/CoviMAC maillage_20x30"
            file ./NCr/CoviMAC/maillage_20x30/jdd.dt_ev
            columns 1 4
            style lines
            Linewidth 2
        }
        Curve
        {
            legend "NCr/PolyMAC maillage_20x30"
            file ./NCr/PolyMAC/maillage_20x30/jdd.dt_ev
            columns 1 4
            style lines
            Linewidth 2
        }
        Curve
        {
            legend "cartesian/CoviMAC maillage_20x30"
            file ./cartesian/CoviMAC/maillage_20x30/jdd.dt_ev
            columns 1 4
            style lines
            Linewidth 2
        }
        Curve
        {
            legend "cartesian/PolyMAC maillage_20x30"
            file ./cartesian/PolyMAC/maillage_20x30/jdd.dt_ev
            columns 1 4
            style lines
            Linewidth 2
        }
        Curve
        {
            legend "cartesian/VDF maillage_20x30"
            file ./cartesian/VDF/maillage_20x30/jdd.dt_ev
            columns 1 4
            style lines
            Linewidth 2
        }
        Curve
        {
            legend "triangle/CoviMAC maillage_20x30"
            file ./triangle/CoviMAC/maillage_20x30/jdd.dt_ev
            columns 1 4
            style lines
            Linewidth 2
        }
        Curve
        {
            legend "triangle/PolyMAC maillage_20x30"
            file ./triangle/PolyMAC/maillage_20x30/jdd.dt_ev
            columns 1 4
            style lines
            Linewidth 2
        }
        Curve
        {
            legend "triangle/VEFPreP1B maillage_20x30"
            file ./triangle/VEFPreP1B/maillage_20x30/jdd.dt_ev
            columns 1 4
            style lines
            Linewidth 2
        }
    }

Figure
    {
        title_figure vitesse
        include_description_curves 0
        labelX "z (m)"
        labelY "v"

        width 18cm
        grid
        legend below title "Legende"
        nb_img_without_newline 2
        Curve
        {
            legend NCa/CoviMAC
            segment ./NCa/CoviMAC/maillage_20x30/jdd V
            columns 1 3
            style lines
            Linewidth 2
        }
        Curve
        {
            legend NCa/PolyMAC
            segment ./NCa/PolyMAC/maillage_20x30/jdd V
            columns 1 3
            style lines
            Linewidth 2
        }
        Curve
        {
            legend NCr/CoviMAC
            segment ./NCr/CoviMAC/maillage_20x30/jdd V
            columns 1 3
            style lines
            Linewidth 2
        }
        Curve
        {
            legend NCr/PolyMAC
            segment ./NCr/PolyMAC/maillage_20x30/jdd V
            columns 1 3
            style lines
            Linewidth 2
        }
        Curve
        {
            legend cartesian/CoviMAC
            segment ./cartesian/CoviMAC/maillage_20x30/jdd V
            columns 1 3
            style lines
            Linewidth 2
        }
        Curve
        {
            legend cartesian/PolyMAC
            segment ./cartesian/PolyMAC/maillage_20x30/jdd V
            columns 1 3
            style lines
            Linewidth 2
        }
        Curve
        {
            legend cartesian/VDF
            segment ./cartesian/VDF/maillage_20x30/jdd V
            columns 1 3
            style lines
            Linewidth 2
        }
        Curve
        {
            legend triangle/CoviMAC
            segment ./triangle/CoviMAC/maillage_20x30/jdd V
            columns 1 3
            style lines
            Linewidth 2
        }
        Curve
        {
            legend triangle/PolyMAC
            segment ./triangle/PolyMAC/maillage_20x30/jdd V
            columns 1 3
            style lines
            Linewidth 2
        }
        Curve
        {
            legend triangle/VEFPreP1B
            segment ./triangle/VEFPreP1B/maillage_20x30/jdd V
            columns 1 3
            style lines
            Linewidth 2
        }
        # Curve
        # {
        #     legend Analytique
        #     segment ./VDF/jdd V_ex
        #     columns 1 3
        #     style points
        # }
    }
}


Chapter
{
    Title "Ordres de convergence"
    Description " "

    Figure
    {
        labelx "Ne^{-1/2}"
        labely erreur L2
        logx
        logy
        Include_Description_Curves 0
        legend below title "Legend"
        width 15cm
        Title "Ordres de convergence - v"
        Curve
        {
            legend NCa/CoviMAC
            file NCa/CoviMAC/conv_glob_v
            colonnes 1 2
            style linespoints
        }
        Curve
        {
            legend NCa/PolyMAC
            file NCa/PolyMAC/conv_glob_v
            colonnes 1 2
            style linespoints
        }
        Curve
        {
            legend NCr/CoviMAC
            file NCr/CoviMAC/conv_glob_v
            colonnes 1 2
            style linespoints
        }
        Curve
        {
            legend NCr/PolyMAC
            file NCr/PolyMAC/conv_glob_v
            colonnes 1 2
            style linespoints
        }
        Curve
        {
            legend cartesian/CoviMAC
            file cartesian/CoviMAC/conv_glob_v
            colonnes 1 2
            style linespoints
        }
        Curve
        {
            legend cartesian/PolyMAC
            file cartesian/PolyMAC/conv_glob_v
            colonnes 1 2
            style linespoints
        }
        Curve
        {
            legend cartesian/VDF
            file cartesian/VDF/conv_glob_v
            colonnes 1 2
            style linespoints
        }
        Curve
        {
            legend triangle/CoviMAC
            file triangle/CoviMAC/conv_glob_v
            colonnes 1 2
            style linespoints
        }
        Curve
        {
            legend triangle/PolyMAC
            file triangle/PolyMAC/conv_glob_v
            colonnes 1 2
            style linespoints
        }
        Curve
        {
            legend triangle/VEFPreP1B
            file triangle/VEFPreP1B/conv_glob_v
            colonnes 1 2
            style linespoints
        }
    }
    Figure
    {
        labelx "Ne^{-1/2}"
        labely erreur L2
        logx
        logy
        Include_Description_Curves 0
        legend below title "Legend"
        width 15cm
        Title "Ordres de convergence - p"
        Curve
        {
            legend NCa/CoviMAC
            file NCa/CoviMAC/conv_glob_p
            colonnes 1 2
            style linespoints
        }
        Curve
        {
            legend NCa/PolyMAC
            file NCa/PolyMAC/conv_glob_p
            colonnes 1 2
            style linespoints
        }
        Curve
        {
            legend NCr/CoviMAC
            file NCr/CoviMAC/conv_glob_p
            colonnes 1 2
            style linespoints
        }
        Curve
        {
            legend NCr/PolyMAC
            file NCr/PolyMAC/conv_glob_p
            colonnes 1 2
            style linespoints
        }
        Curve
        {
            legend cartesian/CoviMAC
            file cartesian/CoviMAC/conv_glob_p
            colonnes 1 2
            style linespoints
        }
        Curve
        {
            legend cartesian/PolyMAC
            file cartesian/PolyMAC/conv_glob_p
            colonnes 1 2
            style linespoints
        }
        Curve
        {
            legend cartesian/VDF
            file cartesian/VDF/conv_glob_p
            colonnes 1 2
            style linespoints
        }
        Curve
        {
            legend triangle/CoviMAC
            file triangle/CoviMAC/conv_glob_p
            colonnes 1 2
            style linespoints
        }
        Curve
        {
            legend triangle/PolyMAC
            file triangle/PolyMAC/conv_glob_p
            colonnes 1 2
            style linespoints
        }
        Curve
        {
            legend triangle/VEFPreP1B
            file triangle/VEFPreP1B/conv_glob_p
            colonnes 1 2
            style linespoints
        }
    }
}
