# Cas 3D conduction avec Paroi_Echange_contact_Correlation_VEF #
# PARALLEL OK #
Dimension 3

export domaine dom_pb1 

# DEBUT MAILLAGE #
lire_fichier dom_pb1 canal.geom
tetraedriser dom_pb1
# FIN MAILLAGE #
# DEBUT DECOUPAGE
Decouper dom_pb1
{
        Tranche_geom 1 1 2
        Larg_joint 1
        Nom_Zones DOM
}
Fin
FIN DECOUPAGE #

# DEBUT LECTURE
Scatter DOM.Zones dom_pb1
FIN LECTURE #

Pb_conduction pb_solide

schema_euler_explicite sch
Lire sch
{
	nb_pas_dt_max 50
        tinit 0 
        tmax 0.2
        dt_min 1.E-8
        dt_max 0.01
        dt_impr 0.1
        dt_sauv 0.2
        seuil_statio 1.e-6
        facsec 1.
	diffusion_implicite 0
}

VEFPreP1B cubes

Solide ceramique    
Lire ceramique  
{

        rho Champ_Uniforme 1 2225.
        lambda Champ_Uniforme 1 5    
        Cp Champ_Uniforme 1 0.6
}

Associer pb_solide dom_pb1
Associer pb_solide ceramique     

Associer pb_solide sch
Discretiser pb_solide cubes




Lire pb_solide
{
        Conduction
        {
                diffusion { }
                conditions_initiales {
                        temperature Champ_Uniforme 1 751.
                        }
                sources {
                       Puissance_Thermique_uniforme Champ_uniforme 1 30E+06 
                        }

                conditions_limites {
                        paroi_adia               paroi_adiabatique
                        entree                  paroi_adiabatique           
                        sortie               paroi_adiabatique
                        Canaux Paroi_Echange_contact_Correlation_VEF  
					{
					dir 2
					Tinf 1180
					Tsup 751
					lambda 2.774e-3*T^0.701
					rho 90e5/(2077.22*T+90e5*(9.5e-4+9.5e-4/(1-3.4e-2*T)+2.74e-3/(1+9.4e-4*T)))
					Cp 5193
					mu 3.953e-7*T^0.687
					debit -509.5
					Dh 0.016
					dt_impr 0.0001
					N 10
					surface 3.1415927/4.*Dh^2. 
					Nu 0.023*Re^0.8*Pr^(1./3.)
					xinf 0
					xsup 0.8
					}
                }
        }
        Postraitement
        {
	format lml
                Sondes
                {
                         coupe_combustible_long_canal_1_Tparoi    temperature periode  0.1  segment 100  0.0085 0.034 0. 0.0085 0.034      0.8 
			 sonde_combustible_entree    temperature periode 0.001   points 5 
				0.01 0.034 0.75
				0.01 0.8 0.75
 				0.01 0.1 0.75
 				0.01 0.12 0.75
				0.01 0.16 0.75
                       
               }
                Champs dt_post .2
                {
                   temperature elem
                }
        }
        Sauvegarde binaire pb_solide.sauv

}


Resoudre pb_solide
Fin

					{
					dir 2
					Tinf 1000
					Tsup 973.15
					lambda 2.774e-3*T^0.701
					rho 3.85
					Cp 5193
					mu 3.953e-7*T^0.687
					debit -109.8
					Dh 0.016
					dt_impr 0.01
					}
