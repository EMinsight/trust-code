Parameters {
	Title "Using champ_front_med"
	Description "This note illustrates the use of the keyword champ_front_med in the definition of boundary conditions."

	Author "F. Muller / A.Bruneton"
    TestCase . tuyau3D_cas_test.data
}

Chapter {
	Title "Problem setup"
	Description In this example the domain is in 3D and is read from a MED file thanks to the keyword 'Lire_MED'. <<EOF
The groups of faces defined in the MED file are used to name the boundaries of the domain. They have to form a partition of all the boundaries of the domain.
In the present case they are named 'face_int', 'face_ext', 'entree', 'sortie'.

On the face 'entree' (z=0) the user wants to set a velocity field thanks to a MED file. This is made possible thanks to the keyword 'champ_front_med'
which takes a champ_fonc_med, reading in turn a MED file containing a mesh with mesh-dimension equals to 2 (only "surface-like" elements, in this case triangles), and a 
space-dimension equals to 3 (the points defining the surface have 3 coordinates x,y,z). If either one of this condition is violated, the instruction
will crash.
EOF

	Visu
	 {
	  Title "Full domain used in computation"
	  Description "The domain is a 3D pipe (extrusion on the Z axis) with an annular shape."
	  Mesh tuyau3D_cas_test.lata dom 
	 }
	 
	 Visu
	 {
    Title "Boundary condition - From MED"
	  Description "The boundary condition as read from the MED file:"
	  # Need to hack the domain name to get the proper variable (magnitude) in VisIt
	  Pseudocolor_with_range etat_interm.vtu dom_0_3D_magnitude VITESSE ELEM 0.24 0.2415
	 }
	 
	 Visu
	 {
    Title "Boundary condition - From TRUST"
	  Description "The boundary condition as read from TRUST after loading with the keyword champ_front_med:"
	  # Need to hack the domain name to get the proper variable (magnitude) in VisIt	  
	  Pseudocolor_with_range tuyau3D_cas_test.lata dom_magnitude VITESSE SOM 0.24 0.2415
	  Operator Slice2D_z 0.0 0.0 0.0 
	 }

}


Chapter 
{
  Title "Dataset used in this note"
  Description include_text_file("tuyau3D_cas_test.data", "Lire_MED", "Champ_front_MED")
}



