Parameters {
	Title "Ecoulement dans un coude avec frottement en volume"
	Description "\latex_( \input{\orig/presentation} \latex_)"
	Author "D. Jamet"
	TestCase "." "eclt_coude_frottement.data"
	TestCase "." "eclt_coude_frottement2.data"
	TestCase "." "eclt_coude_frottement3.data"
	IncludeData 1
}

Chapter {
	Title "Coefficient de frottement constant"
	Description "\latex_( \input{\orig/presentation1} \latex_)"


	visu {
                Title "Champs de pression et de vitesse calculés"
                description "Les champs de pression et de vitesse calculés par GENEPI sont tracés."
                mesh ./eclt_coude_frottement.lata dom 
                pseudocolor ./eclt_coude_frottement.lata dom PRESSION_PA ELEM
		vector  ./eclt_coude_frottement.lata dom VITESSE SOM
        }


	visu {
                Title "Erreur sur le champ de vitesse"
                mesh ./eclt_coude_frottement.lata dom 
		instruction_visit DefineVectorExpression("V_ANALYTIQUE_SOM_dom","{10.*(-coord(dom)[1]/sqrt(coord(dom)[0]*coord(dom)[0]+coord(dom)[1]*coord(dom)[1])/sqrt(sqrt(coord(dom)[0]*coord(dom)[0]+coord(dom)[1]*coord(dom)[1]))),10.*(coord(dom)[0]/sqrt(coord(dom)[0]*coord(dom)[0]+coord(dom)[1]*coord(dom)[1])/sqrt(sqrt(coord(dom)[0]*coord(dom)[0]+coord(dom)[1]*coord(dom)[1])))}") 
		instruction_visit DefineVectorExpression("ERREUR_VITESSE_SOM_dom","VITESSE_SOM_dom-V_ANALYTIQUE_SOM_dom")
		vector  ./eclt_coude_frottement.lata dom ERREUR_VITESSE SOM
        }


	Table {
		Title "Comparaison théorie/numérique"
		nb_columns 1
		label  Perte de pression
		line {
			legend Analytique
			alias ref
			Version "1.5.3-beta_build_180907"
			values 1571.
		}
		line {
			legend Calcul
			alias calcul
			origin "Trio_U"
			Version "1.5.3-beta_build_180907"
			nb_columns_file 8
			file ./eclt_coude_frottement_fin.out
			columns (($8)-($7))
		}
		line {
			legend Ecart_relatif
			alias erreur
			origin "Trio_U"
			Version "1.5.3-beta_build_180907"
			difference ecart_relatif calcul ref
			display_line 0	
		}
		line {
	        	legend "Erreur en %"
			alias err_relative
		        difference formule erreur ref int(v1*10000)/100.
	        }
	}
}


Chapter {
	Title "Coefficient de frottement inversement proportionnel au rayon"
	Description "\latex_( \input{\orig/presentation2} \latex_)"


	visu {
                Title "Champs de pression et de vitesse calculés"
                description "Les champs de pression et de vitesse calculés par GENEPI sont tracés."
                mesh ./eclt_coude_frottement2.lata dom 
                pseudocolor ./eclt_coude_frottement2.lata dom PRESSION_PA ELEM
		vector  ./eclt_coude_frottement2.lata dom VITESSE SOM
        }


	visu {
                Title "Erreur sur le champ de vitesse"
                mesh ./eclt_coude_frottement2.lata dom 
		instruction_visit DefineVectorExpression("V_ANALYTIQUE_SOM_dom","{10.*(-coord(dom)[1]/sqrt(coord(dom)[0]*coord(dom)[0]+coord(dom)[1]*coord(dom)[1])),10.*(coord(dom)[0]/sqrt(coord(dom)[0]*coord(dom)[0]+coord(dom)[1]*coord(dom)[1]))}")
		instruction_visit DefineVectorExpression("ERREUR_VITESSE_SOM_dom","VITESSE_SOM_dom-V_ANALYTIQUE_SOM_dom")
		vector  ./eclt_coude_frottement2.lata dom ERREUR_VITESSE SOM
        }

	Table {
		Title "Comparaison théorie/numérique"
		nb_columns 1
		label  Perte de pression
		line {
			legend Analytique
			alias ref
			Version "1.5.3-beta_build_180907"
			values 1571.
		}
		line {
			legend Calcul
			alias calcul
			origin "Trio_U"
			Version "1.5.3-beta_build_180907"
			nb_columns_file 8
			file ./eclt_coude_frottement2_fin.out
			columns (($8)-($7))
		}
		line {
			legend Ecart_relatif
			alias erreur
			origin "Trio_U"
			Version "1.5.3-beta_build_180907"
			difference ecart_relatif calcul ref
			display_line 0	
		}
		line {
	        	legend "Erreur en %"
			alias err_relative
		        difference formule erreur ref int(v1*10000)/100.
	        }
	}
}


Chapter {
	Title "Coefficient de frottement inversement proportionnel au cube du rayon"
	Description "\latex_( \input{\orig/presentation3} \latex_)"


	visu {
                Title "Champs de pression et de vitesse calculés"
                description "Les champs de pression et de vitesse calculés par GENEPI sont tracés."
                mesh ./eclt_coude_frottement3.lata dom 
                pseudocolor ./eclt_coude_frottement3.lata dom PRESSION_PA ELEM
		vector  ./eclt_coude_frottement3.lata dom VITESSE SOM
        }


	visu {
                Title "Erreur sur le champ de vitesse"
                mesh ./eclt_coude_frottement3.lata dom 
		instruction_visit DefineVectorExpression("V_ANALYTIQUE_SOM_dom","{10.*(-coord(dom)[1]),10.*(coord(dom)[0])}")
		instruction_visit DefineVectorExpression("ERREUR_VITESSE_SOM_dom","VITESSE_SOM_dom-V_ANALYTIQUE_SOM_dom")
		vector  ./eclt_coude_frottement3.lata dom ERREUR_VITESSE SOM
        }

	Table {
		Title "Comparaison théorie/numérique"
		nb_columns 1
		label  Perte de pression
		line {
			legend Analytique
			alias ref
			Version "1.5.3-beta_build_180907"
			values 1571.
		}
		line {
			legend Calcul
			alias calcul
			origin "Trio_U"
			Version "1.5.3-beta_build_180907"
			nb_columns_file 8
			file ./eclt_coude_frottement3_fin.out
			columns (($8)-($7))
		}
		line {
			legend Ecart_relatif
			alias erreur
			origin "Trio_U"
			Version "1.5.3-beta_build_180907"
			difference ecart_relatif calcul ref
			display_line 0	
		}
		line {
	        	legend "Erreur en %"
			alias err_relative
		        difference formule erreur ref int(v1*10000)/100.
	        }
	}
}
