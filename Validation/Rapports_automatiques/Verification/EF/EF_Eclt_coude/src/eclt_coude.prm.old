Parametres {
	Titre "Ecoulement laminaire dans un coude"
	Description "On calcule l'écoulement bidimensionnel dans un coude.  L'écoulement est laminaire et on néglige la convection.  Les parois du domaine sont fixes et une condition d'adhérence y est imposée.  Une solution analytique à ce problème existe et on compare les résultats calculés par GENEPI à cette solution analytique."
	Auteur "D. Jamet"
	CasTest "." "eclt_coude.data"
	incluredata 1
}

Chapitre {
	Titre "Champ de pression"
	Description "Dans cette partie, on compare le champ de pression calculé par GENEPI et le champ de pression analytique."


	visu {
                titre "Champs de pression calculé"
                description "Le champ de pression calculé par GENEPI est tracé et le champ de pression analytique est donné par des iso-valeurs."
                mesh ./eclt_coude.lata dom 
                pseudocolor ./eclt_coude.lata dom PRESSION_PA ELEM
                instruction_visit DefineScalarExpression("P_ANALYTIQUE_ELEM_dom","(-0.225E1*acos(coord(dom)[0]/sqrt(coord(dom)[0]*coord(dom)[0]+coord(dom)[1]*coord(dom)[1]))/ln(2.0))")
                isovaleurs ./eclt_coude.lata dom P_ANALYTIQUE ELEM
	
		instruction_visit DefineVectorExpression("V_ANALYTIQUE_SOM_dom","{(-(8.0*ln(2.0)*coord(dom)[0]*coord(dom)[0]+8.0*ln(2.0)*coord(dom)[1]*coord(dom)[1]-8.0*ln(2.0)-3.0*ln(coord(dom)[0]*coord(dom)[0]+coord(dom)[1]*coord(dom)[1])*coord(dom)[0]*coord(dom)[0]-3.0*ln(coord(dom)[0]*coord(dom)[0]+coord(dom)[1]*coord(dom)[1])*coord(dom)[1]*coord(dom)[1])*sqrt(coord(dom)[1]*coord(dom)[1]/(coord(dom)[0]*coord(dom)[0]+coord(dom)[1]*coord(dom)[1]))/sqrt(coord(dom)[0]*coord(dom)[0]+coord(dom)[1]*coord(dom)[1])/ln(2.0)/8.0),((8.0*ln(2.0)*coord(dom)[0]*coord(dom)[0]+8.0*ln(2.0)*coord(dom)[1]*coord(dom)[1]-8.0*ln(2.0)-3.0*ln(coord(dom)[0]*coord(dom)[0]+coord(dom)[1]*coord(dom)[1])*coord(dom)[0]*coord(dom)[0]-3.0*ln(coord(dom)[0]*coord(dom)[0]+coord(dom)[1]*coord(dom)[1])*coord(dom)[1]*coord(dom)[1])*coord(dom)[0]/(coord(dom)[0]*coord(dom)[0]+coord(dom)[1]*coord(dom)[1])/ln(2.0)/8.0)}")
		instruction_visit DefineVectorExpression("erreur_V_SOM_dom","VITESSE_SOM_dom-V_ANALYTIQUE_SOM_dom")
		vector  ./eclt_coude.lata dom erreur_V SOM
        }


	visu {
                titre "Champs de pression analytique"
                description "Le champ de pression analytique est tracé et le champ de pression calculé par GENEPI est donné par des iso-valeurs."
                mesh ./eclt_coude.lata dom 
                instruction_visit DefineScalarExpression("P_ANALYTIQUE_ELEM_dom","(-0.225E1*acos(coord(dom)[0]/sqrt(coord(dom)[0]*coord(dom)[0]+coord(dom)[1]*coord(dom)[1]))/ln(2.0))")
                pseudocolor ./eclt_coude.lata dom P_ANALYTIQUE ELEM
                isovaleurs ./eclt_coude.lata dom PRESSION_PA ELEM
        }

	visu {
                titre "Erreur sur le champ de pression"
                description "On trace l'erreur entre le champ de pression calculé par GENEPI et le champ de pression analytique.  Sont superposés le champ de l'erreur et les iso-valeurs de l'erreur (pour plus de clarté, le maillage n'est pas tracé)."
                instruction_visit DefineScalarExpression("ERREUR_ELEM_dom","PRESSION_PA_ELEM_dom-(-0.225E1*acos(coord(dom)[0]/sqrt(coord(dom)[0]*coord(dom)[0]+coord(dom)[1]*coord(dom)[1]))/ln(2.0))")
                pseudocolor ./eclt_coude.lata dom ERREUR ELEM
                isovaleurs ./eclt_coude.lata dom ERREUR ELEM
        }


}
